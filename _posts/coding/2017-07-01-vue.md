---
layout: post
title:  Vue Study
date:   2017-07-01
categories: coding
tags: Javascript
description: 
---


> å‚è€ƒï¼š
> 1. [Vue.jså®è·µï¼šä¸€ä¸ªNode.js+mongoDB+Vue.jsçš„åšå®¢å†…å®¹ç®¡ç†ç³»ç»Ÿ](https://segmentfault.com/a/1190000006939687)
    + https://github.com/ciqulover/CMS-of-Blog
> 2. [Vue.js+Node.js+Mongodb+Expressçš„å‰åç«¯åˆ†ç¦»çš„ä¸ªäººåšå®¢](https://github.com/FatDong1/VueBlog)

---

## é¡¹ç›®æ„å»º

### å‰ç«¯ï¼šVueå…¨å®¶æ¡¶

+ Vue.js
+ vue-cliï¼šå®˜æ–¹è„šæ‰‹æ¶ï¼Œç”¨äºåˆå§‹åŒ–é¡¹ç›®
+ Vue-resourceï¼šæ˜¯ä¸€ä¸ªé€šè¿‡`XMLHttpRequest`å’Œ`JSONP`æŠ€æœ¯å®ç°å¼‚æ­¥åŠ è½½æœåŠ¡å™¨ç«¯æ•°æ®çš„Vueæ’ä»¶ï¼Œæä¾›äº†ä¸€èˆ¬çš„HTTPè¯·æ±‚æ¥å£å’ŒRESTfulæ¶æ„è¯·æ±‚æ¥å£ï¼Œå¹¶ä¸”æä¾›äº†å…¨å±€æ–¹æ³•å’ŒVueç»„ä»¶å®ä¾‹æ–¹æ³•
    - [**segmentfault**ï¼šVue_VueResource](https://segmentfault.com/a/1190000007087934)
+ Vue-routerï¼šå®˜æ–¹è·¯ç”±æ’ä»¶ã€‚ä½¿ç”¨ Vue.js ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥é€šè¿‡ç»„åˆç»„ä»¶æ¥ç»„æˆåº”ç”¨ç¨‹åºï¼Œå½“ä½ è¦æŠŠ vue-router æ·»åŠ è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯ï¼Œå°†ç»„ä»¶(components)æ˜ å°„åˆ°è·¯ç”±(routes)ï¼Œç„¶åå‘Šè¯‰ vue-router åœ¨å“ªé‡Œæ¸²æŸ“å®ƒä»¬ã€‚
    - [å®˜æ–¹æ–‡æ¡£ï¼švue-router 2](https://router.vuejs.org/zh-cn/)
+ VueXï¼šVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚
    - [å®˜æ–¹æ–‡æ¡£ï¼švuex](https://vuex.vuejs.org/zh-cn/intro.html)

### åç«¯

+ Node.js
+ MongoDB (mongoose)
+ Express

### å·¥å…·å’Œè¯­è¨€

+ Webpack
+ ES6
+ Sass

åœ¨æ­¤ï¼Œæˆ‘å°†å‰åç«¯å»ºä¸ºä¸¤ä¸ªé¡¹ç›®ï¼Œå®ç°å‰åç«¯åˆ†ç¦»è§£è€¦ï¼Œå‰åç«¯åªéœ€è¦çº¦å®šå¥½restfulæ•°æ®æ¥å£ï¼Œå’Œæ•°æ®å­˜å–æ ¼å¼å°±OKäº†ã€‚

---

### åç«¯ç¯å¢ƒé…ç½®

1. å®‰è£… Node.js
2. åˆ›å»ºåç«¯é¡¹ç›®å¹¶å®‰è£…express

``` shell
mkdir douban-serve && cd douban-serve
npm init
npm install express --save
``` 
3. Hello World

åœ¨ä¸»ç›®å½•ä¸‹æ–°å»ºå…¥å£æ–‡ä»¶`app.js`ï¼Œå¹¶æ•²å…¥ä¸€ä¸‹ä»£ç ï¼š

``` javascript
// app.js
var express = require('express');
var app = express();

// è®¾ç½®ç«¯å£ä¸º 8333
var port = process.env.PORT || 8333;

app.get('/', function(req, res) {
	res.send('Hello World!');
});

var server = app.listen(port, function() {
	var host = server.address().address;

	console.log("The app listening at http://%s:%s", host, port);
});
```
åœ¨CMDä¸­é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯åŠ¨æ­¤åº”ç”¨ï¼š

``` shell
node app.js 
```

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»åˆæ­¥åˆ›å»ºäº†ä¸€ä¸ªnode.jsåº”ç”¨ã€‚

4. é€šè¿‡Expressç”Ÿæˆå™¨å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåº”ç”¨
+ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦__å…¨å±€å®‰è£…__`express-generator`

``` shell
npm install express-generator -g
```

+ åˆ›å»ºä¸€ä¸ªåä¸º`appNode`çš„åº”ç”¨

``` shell
warning: the default view engine will not be jade in future releases
warning: use '--view=jade' or '--help' for additional options

create : appNode
create : appNode/package.json
create : appNode/app.js
create : appNode/public
create : appNode/routes
create : appNode/routes/index.js
create : appNode/routes/users.js
create : appNode/views
create : appNode/views/index.jade
create : appNode/views/layout.jade
create : appNode/views/error.jade
create : appNode/bin
create : appNode/bin/www
create : appNode/public/stylesheets
create : appNode/public/stylesheets/style.css

install dependencies:
> cd appNode && npm install

run the app:
> SET DEBUG=appnode:* & npm start

create : appNode/public/javascripts
create : appNode/public/images

```

ç”¨è¯¥æ–¹å¼åˆ›å»ºçš„åº”ç”¨ï¼Œç›®å½•å¦‚ä¸‹ï¼š

``` shell
|â€”â€” bin
|   â””â”€â”€ www
|â€”â€” public  // é™æ€èµ„æºæ–‡ä»¶å¤¹
|   |â€”â€” images
|   |â€”â€” javascripts
|   â””â”€â”€ stylesheets
|       â””â”€â”€ style.css
|â€”â€” routes
|   |â€”â€” index.js
|   â””â”€â”€ users.js
|â€”â€” views
|   |â€”â€” error.jade
|   |â€”â€” index.jade
|   â””â”€â”€ layout.jade
|
|â€”â€” app.js  // å…¥å£æ–‡ä»¶
â””â”€â”€ package.json
```

+ è¿›å…¥åº”ç”¨ç›®å½•ï¼Œå®‰è£…ä¾èµ–

``` shell
cd appNode && npm install
```

+ å¯åŠ¨åº”ç”¨

``` shell
SET DEBUG=appnode:* & npm start
```

__ğŸ€ åœ¨æ­¤ï¼Œæˆ‘å°†é‡‡ç”¨ç¬¬ä¸€ç§æ–¹å¼åˆ›å»ºåº”ç”¨ï¼__

---

### ğŸ€

- å®‰è£…ä¾èµ–å·¥å…·
    + serve-favicon : è¯·æ±‚ç½‘é¡µçš„logo
    + path : å¤„ç†æ–‡ä»¶å’Œç›®å½•è·¯å¾„çš„å·¥å…·ï¼Œè¯¦è§[æ–‡æ¡£](https://nodejs.org/api/path.html)
    + cookie-parser : 
    + bodyParser :
    + logger

//// æ”¾ç½®ï¼Œå¾…æ•´ç†
express: web æ¡†æ¶
express-session: session ä¸­é—´ä»¶
connect-mongo: å°† session å­˜å‚¨äº mongodbï¼Œç»“åˆ express-session ä½¿ç”¨
connect-flash: é¡µé¢é€šçŸ¥æç¤ºçš„ä¸­é—´ä»¶ï¼ŒåŸºäº session å®ç°
ejs: æ¨¡æ¿
express-formidable: æ¥æ”¶è¡¨å•åŠæ–‡ä»¶çš„ä¸Šä¼ ä¸­é—´ä»¶
config-lite: è¯»å–é…ç½®æ–‡ä»¶
marked: markdown è§£æ
moment: æ—¶é—´æ ¼å¼åŒ–
mongolass: mongodb é©±åŠ¨
objectid-to-timestamp: æ ¹æ® ObjectId ç”Ÿæˆæ—¶é—´æˆ³
sha1: sha1 åŠ å¯†ï¼Œç”¨äºå¯†ç åŠ å¯†
winston: æ—¥å¿—
express-winston: åŸºäº winston çš„ç”¨äº express çš„æ—¥å¿—ä¸­é—´ä»¶
////

ä¿®æ”¹é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

``` shell
|â€”â€” app
|   |â€”â€” controllers     // æ•°æ®æ§åˆ¶
|       |â€”â€” index.js    
|       â””â”€â”€ Totoro.js   // ä¸ºå‰ç«¯æä¾›çš„æ•°æ®æ¥å£ï¼Œæˆ‘ä»¬ç»Ÿä¸€ä¸º /totoro/...
|   |â€”â€” model           // è¾“å‡ºæ•°æ®æ¨¡å— 
|   â””â”€â”€ schemas         // å®šä¹‰æ•°æ®ç»“æ„
|
|â€”â€” public              // é™æ€èµ„æºæ–‡ä»¶å¤¹
|   |â€”â€” images
|   |â€”â€” javascripts
|   â””â”€â”€ stylesheets
|       â””â”€â”€ style.css
|
|â€”â€” routes
|   â””â”€â”€ index.js        // è·¯ç”±
|
|â€”â€” views               // è§†å›¾
|
|â€”â€” app.js  // å…¥å£æ–‡ä»¶
â””â”€â”€ package.json
```

æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªæ¥å£ï¼šå½“è¯·æ±‚**/totoro/**æ—¶è¿”å›â€œHello worldâ€ã€‚

+ é¦–å…ˆï¼Œå…ˆåœ¨`app/controllers/Totoro.js`è®¾ç½®è¯·æ±‚è¾“å‡º
``` javascript
exports.index = function(req, res) {
	res.status(200).send('ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾ Hello World.')
}
```

+ ä¿®æ”¹è·¯ç”±æ–‡ä»¶ `routes/index.js`

``` javascript
var Index = require('../app/controllers/index');
var Totoro = require('../app/controllers/Totoro')

module.exports = function (app) {
	app.post('/', Index.index);
	app.post('/totoro', Totoro.index);
};
```

è¯¦ç»†ä»£ç è¯·è§ï¼š

---
---


# msg-vue

> A [Vue.js](https://cn.vuejs.org/) project

## ç¯å¢ƒæ­å»º

1. Node.js & npm
2. [vue-cli](https://github.com/vuejs/vue-cli) å®˜æ–¹æ¨èï¼Œå¿«é€Ÿæ„å»ºå•é¡µåº”ç”¨çš„è„šæ‰‹æ¶
    +  Node.js (>=4.x, 6.x preferred), npm version 3+ and Git.
        - nodeï¼šv6.11.0
        - npmï¼š5.0.3
3. [vue-router](https://router.vuejs.org/zh-cn/) è·¯ç”±
4. [Vuex](https://vuex.vuejs.org/zh-cn/) æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚
5. [vue-resources](https://github.com/pagekit/vue-resource) The plugin for Vue.js provides services for making web requests and handle responses using a XMLHttpRequest or JSONP.
4. [webpack](https://webpack.js.org/)
5. [Babel](http://babeljs.io/) is a JavaScript compiler.

---

## å¼€å§‹

1. å…¨å±€å®‰è£… `vue-cli`

``` bash
npm install vue-cli -g
```

2. åˆ›å»ºä¸€ä¸ªåŸºäº webpack æ¨¡æ¿çš„é¡¹ç›®

``` bash
vue init webpack msg-vue

# æ­¤è¿‡ç¨‹ä¼šéœ€è¦è¾“å…¥ä¸€äº›é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼šåˆ›å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶å’ŒåŸºæœ¬çš„é¡¹ç›®ç»“æ„ã€‚
? Project name msg-vue
? Project description A Vue.js project
? Author Lina <lina@enlightent.com>
? Vue build standalone
? Install vue-router? Yes
? Use ESLint to lint your code? Yes
? Pick an ESLint preset Standard
? Setup unit tests with Karma + Mocha? Yes
? Setup e2e tests with Nightwatch? Yes

   vue-cli Â· Generated "msg-vue".

   To get started:

     cd msg-vue
     npm install
     npm run dev

   Documentation can be found at https://vuejs-templates.github.io/webpack

```

é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

``` bash
msg-vue
â”‚  .babelrc
â”‚  .editorconfig
â”‚  .eslintignore
â”‚  .eslintrc.js
â”‚  .gitignore
â”‚  .postcssrc.js
â”‚  index.html
â”‚  package.json
â”‚  README.md
â”‚          
â”œâ”€build
â”‚      build.js
â”‚      check-versions.js
â”‚      dev-client.js
â”‚      dev-server.js
â”‚      utils.js
â”‚      vue-loader.conf.js
â”‚      webpack.base.conf.js
â”‚      webpack.dev.conf.js
â”‚      webpack.prod.conf.js
â”‚      webpack.test.conf.js
â”‚      
â”œâ”€config        # é…ç½®æ–‡ä»¶
â”‚      dev.env.js
â”‚      index.js
â”‚      prod.env.js
â”‚      test.env.js
â”‚      
â”œâ”€node_modules  # ä¾èµ–æ¨¡å—
â”‚  
â”œâ”€src
â”‚  â”‚  App.vue
â”‚  â”‚  main.js
â”‚  â”‚  
â”‚  â”œâ”€assets     # é™æ€èµ„æº
â”‚  â”‚      logo.png
â”‚  â”‚      
â”‚  â”œâ”€components # æ¨¡æ¿
â”‚  â”‚      Hello.vue
â”‚  â”‚      
â”‚  â””â”€router     # è·¯ç”±
â”‚          index.js
â”‚          
â”œâ”€static    
â”‚      
â””â”€test          # æµ‹è¯•

```



## Build Setup

``` bash
# install dependencies
npm install

# serve with hot reload at localhost:8080
npm run dev

# build for production with minification
npm run build

# build for production and view the bundle analyzer report
npm run build --report

# run unit tests
npm run unit

# run e2e tests
npm run e2e

# run all tests
npm test
```

For detailed explanation on how things work, checkout the [guide](http://vuejs-templates.github.io/webpack/) and [docs for vue-loader](http://vuejs.github.io/vue-loader).


---

## å¯åŠ¨é¡¹ç›®

ä¸ºäº†é˜²æ­¢ç«¯å£å†²çªï¼Œæˆ‘ä»¬é¦–å…ˆä¿®æ”¹ä¸€ä¸‹ç«¯å£ä¸º8666ï¼š

``` javascript
// /config/index.js

// ...
dev: {
    env: require('./dev.env'),
    port: 8666,
    // ...
}
// ...
```

ç„¶åå¯åŠ¨é¡¹ç›®ï¼š`npm run dev`


---

ç›¸å…³å­¦ä¹ èµ„æ–™

1. [é˜®ä¸€å³°ï¼ša collection of simple demos of Webpack](https://github.com/ruanyf/webpack-demos#demo01-entry-file-source)
2. [é˜®ä¸€å³°ï¼šBabel å…¥é—¨æ•™ç¨‹](http://www.ruanyifeng.com/blog/2016/01/babel.html)

---
---

# ã€sixiang-vueã€‘å¤šé¡µé¢å¼€å‘

åŸºäºæˆ‘ä»¬ç°åœ¨çš„å››è±¡æ¶ˆæ¯æµçš„JSPå¼€å‘æ¨¡å¼ï¼Œå•é¡µWebåº”ç”¨ï¼ˆsingle page web applicationï¼ŒSPAï¼‰å¹¶ä¸é€‚ç”¨ï¼Œæ•…éœ€è¦å°†vue-cliåˆ›å»ºçš„SPAä¿®æ”¹ä¸ºå¤šé¡µé¢ã€‚æ­¤å¤„ä¸¥é‡å‚è€ƒ**[vue-cli-multi-page](https://github.com/bluefox1688/vue-cli-multi-page)**

---
---

**ä»¥ä¸‹ä¸º[vue-cli-multi-page](https://github.com/bluefox1688/vue-cli-multi-page) README.md åˆ å‡ç‰ˆ**

## å‰è¨€

demoåœ°å€ï¼š
http://v.lanchenglv.com/demo/vue2-cli-vux2-multe-page/views/home/list.html

githubåœ°å€ï¼š
https://github.com/bluefox1688/vue-cli-multi-page

** æ­¤ç‰ˆä»…æ”¯æŒvu2.0ï¼Œå¦‚æœéœ€è¦vue1.0å¤šé¡µé¢è„šæ‰‹æ¶ï¼Œè¯·è®¿é—®åˆ†æ”¯ **
https://github.com/bluefox1688/vue-cli-multi-page/tree/master 

æœ¬åœ°é»˜è®¤è®¿é—®ç«¯å£ä¸º8091ï¼Œéœ€è¦æ›´æ”¹çš„ç«¥é‹è¯·åˆ°é¡¹ç›®ç›®å½•æ–‡ä»¶`config/index.js`ä¿®æ”¹ã€‚

## 2.0çš„ä¸»è¦åŠŸèƒ½

 1. å…¨å±€ç»Ÿä¸€ä½¿ç”¨çš„æ¨¡å—`Lib.js`åº“
 2. æ”¯æŒå­—ä½“å›¾æ ‡
 3. æ„å»ºæ—¶ï¼Œå¢åŠ å¯¹cssæ‰“åŒ…çš„æ”¯æŒ
 4. æå–å…¬å…±æ¨¡å—
 5. å¤šé¡µé¢å¯ä½¿ç”¨vue-router2è·¯ç”±
 6. å¯è‡ªå®šä¹‰é¡µé¢æ¨¡å—åï¼Œä¾‹å¦‚ http:// localhost:8091/`views`/home/list.htmlï¼Œ`views`å°±æ˜¯æˆ‘ä»¬çº¿ä¸Šçš„æ¨¡å—åï¼Œ1.0ç‰ˆåªèƒ½å›ºå®šçš„
 7. æ”¯æŒäºŒçº§ç›®å½•ï¼Œä¾¿äºå½’ç±»ï¼Œ1.0ç‰ˆæœ¬æš‚æ—¶ä»…æ”¯æŒä¸€çº§ç›®å½•
 8. æ¨¡å—ä¸‹é™æ€æ–‡ä»¶å¯ç›´æ¥è°ƒç”¨
 9. å‘é€ajaxè¯·æ±‚ï¼Œä½¿ç”¨`axios`åº“ï¼Œç®€å•å°è£…äº†ä¸€ä¸ªåº“ï¼Œä¸ºäº†å‡å°‘å­¦ä¹ æˆæœ¬ï¼Œå°è£…å‚æ•°åŸºæœ¬ä¸`JQ ajax`ä¸€è‡´ï¼Œå¦‚æœä¸éœ€è¦å¯ç›´æ¥åˆ é™¤
 10. æ•´åˆäº†vueæœ€æµè¡Œçš„UIæ¡†æ¶ï¼Œ`vuxui2.x`ï¼Œ`github star` å·²æ¥è¿‘`8K`äº†ï¼Œç»„ä»¶éå¸¸å…¨é¢ï¼Œå¹¶ä¸”ä½œè€…ä¸€ç›´æœ‰ç»´æŠ¤ï¼Œä»`0.x`ç‰ˆæœ¬æˆ‘å°±å¼€å§‹æœ‰ä½¿ç”¨äº†ï¼Œå…·ä½“äº†è§£æ›´å¤šï¼Œè¯·è®¿é—®å®˜ç½‘ https://vux.li
 11. åŸºäº`webpack2`ï¼Œæ›´é«˜çš„æ„å»ºé€Ÿåº¦ï¼ŒåŒ…ä½“ç§¯æ›´å°ï¼Œå…¨é¢æ”¯æŒ`ES6 Modules`
 12. çƒ­æ›´æ–°ï¼Œæ•ˆç‡æå‡ç¥å™¨å‘€
 13. æ”¯æŒ`Less`cssé¢„å¤„ç†
 14. è·å–å¤šé¡µé¢çš„urlå‚æ•°çš„æ–¹æ³•
 15. å…¨å±€æ³¨å†Œvueå…¨å±€è¿‡æ»¤å™¨çš„æ–¹æ³•

## ç›®å½•ç»“æ„
``` 
webpack
 |---build
 |---src
     |---assets    #èµ„æº
     |---css/common.css  #css
     |---font/    #å­—ä½“å›¾æ ‡
     |---js/common.js    #è‡ªå·±å®šä¹‰çš„å…¨å±€é€šç”¨äº‹ä»¶
     |---js/conf.js    #é¡¹ç›®çš„é…ç½®
     |---js/Lib.js    #æš´éœ²æ¥å£ç»™ç»„ä»¶è°ƒç”¨
     |---js/vueFilter.js    #æ³¨å†Œvueçš„å…¨å±€è¿‡æ»¤å™¨	
 |---components ç»„ä»¶
     |---Button.vue  æŒ‰é’®ç»„ä»¶
     |---hb-head.vue  headç»„ä»¶
|---views    #å„ä¸ªé¡µé¢æ¨¡å—ï¼Œæ¨¡å—åå¯ä»¥è‡ªå®šä¹‰å“¦ï¼
     |---home    #ä¸€çº§ç›®å½•
        |---list    #äºŒçº§ç›®å½•
             |---list.html
             |---list.js
             |---listApp.vue
     |---vuxDemo    #ä¸€çº§ç›®å½•
        |---button    #äºŒçº§ç›®å½•
             |---button.html
             |---button.js
             |---buttonApp.vue	
        |---calendar    #äºŒçº§ç›®å½•
             |---calendar.html
             |---calendar.js
             |---calendarApp.vue		 
......
     
  ```
æ­¤æ¬¡2.0ç‰ˆæœ¬ä¹Ÿä¼˜åŒ–ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¨¡å—çš„åç§°ï¼Œ1.0ç‰ˆæ—¶ï¼Œæ— æ³•è‡ªå®šä¹‰æ¨¡å—åã€‚

ä¾‹å¦‚ http:// localhost:8091/`views`/home/list.htmlï¼Œ`views`å°±æ˜¯æˆ‘ä»¬çº¿ä¸Šçš„æ¨¡å—åï¼Œå¦‚éœ€ä¿®æ”¹è¯·åˆ°é¡¹ç›®ç›®å½•æ–‡ä»¶config/index.jsä¿®æ”¹`moduleName`å‚æ•°ï¼Œä¿®æ”¹è¿™é‡Œçš„é…ç½®çš„åŒæ—¶ï¼Œä¹Ÿè¦åŒæ—¶é‡å‘½å`/src/views`çš„è¿™ä¸ªæ–‡ä»¶å¤¹åç§°ï¼Œæ˜¯å¦ä¼šæŠ¥é”™çš„ã€‚
  
  ä»ç›®å½•ç»“æ„ä¸Šï¼Œå„ç§ç»„ä»¶ã€é¡µé¢æ¨¡å—ã€èµ„æºç­‰éƒ½æŒ‰ç±»æ–°å»ºäº†æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿æˆ‘ä»¬å‚¨å­˜æ–‡ä»¶ã€‚å…¶å®æˆ‘ä»¬æ‰€æœ‰çš„æ–‡ä»¶ï¼Œæœ€ä¸»è¦éƒ½æ˜¯æ”¾åœ¨`views`æ–‡ä»¶å¤¹é‡Œï¼Œä»¥æ–‡ä»¶å¤¹åä¸ºhtmlçš„åç§°ã€‚
ä¾‹å¦‚

``` stylus
|---vuxDemo    ä¸€çº§ç›®å½•
 |---button    äºŒçº§ç›®å½•
   |---button.html
   |---button.js
   |---buttonApp.vue	
```
å°±æ˜¯æˆ‘ä»¬è®¿é—®æ—¶çš„åœ°å€ï¼š

``` stylus
http://localhost:8091/views/vuxDemo/button.html
```

åœ¨`view`é‡ŒäºŒçº§æ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ªhtmlï¼Œ`js``vue``html` éƒ½ç»Ÿä¸€æ”¾åœ¨å½“å‰æ–‡ä»¶å¤¹é‡Œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç»§ç»­æ”¾å…¶ä»–çš„èµ„æºï¼Œä¾‹å¦‚cssã€å›¾ç‰‡ç­‰ï¼Œwebpackä¼šæ‰“åŒ…åˆ°å½“å‰æ¨¡å—é‡Œã€‚

**è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„çš„ï¼Œæ‰€æœ‰çš„ç›®å½•éƒ½è¦æ±‚ä¸ºäºŒçº§ï¼Œä¸èƒ½ä¸€ä¸ªç›®å½•ä¸‹ä¸ºä¸€çº§ï¼Œå¦ä¸€ä¸ªç›®å½•ä¸‹æœ‰äºŒçº§ã€‚**

---
---


## æœ€å

ä¸ºäº†å’ŒJSPé¡¹ç›®è®¿é—®è·¯å¾„ç›¸ä¸€è‡´ï¼Œè°ƒæ•´é¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼ˆç®€ç•¥ç‰ˆï¼‰

``` bash
â”œâ”€build
â”œâ”€config
â”œâ”€docs
â”œâ”€node_modules
â”œâ”€src
â”‚  â”œâ”€assets
â”‚  â”œâ”€components
â”‚  â””â”€research     # é¡µé¢æ¨¡å—å ä¸€çº§ç›®å½•
â”‚     â””â”€sixiang   # äºŒçº§ç›®å½•
â”‚        â””â”€start  
â”‚           â”œâ”€start.html
â”‚           â”œâ”€vStart.vue
â”‚           â””â”€start.js
â”œâ”€static
â””â”€test
```


æœ¬é¡¹ç›®å¼€å‘ç¯å¢ƒè®¿é—®åœ°å€ï¼š

+ å¼•å¯¼é¡µï¼šhttp://localhost:8081/research/sixiang/start.html

`npm run build` å é¡¹ç›®ä¸»ç›®å½•ä¼šç”Ÿæˆ**`dist`**æ–‡ä»¶å¤¹


ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

``` bash
dist
â”œâ”€ static            # é™æ€èµ„æº    
â”‚  â”œâ”€ css
â”‚  â”œâ”€ img
â”‚  â””â”€ js
â”‚
â””â”€ research            # htmlæ–‡ä»¶ä¸€çº§ç›®å½•
    â””â”€ sixiang         # html æ–‡ä»¶äºŒçº§ç›®å½•
        â””â”€ start.html
```


+ å°†`static`æ–‡ä»¶å¤¹å¤åˆ¶ç²˜è´´åˆ°JSPé¡¹ç›®çš„`webapp\resources`ä¸­
+ å°†`start.html`ä¸­çš„ä»£ç å¤åˆ¶ç²˜è´´åˆ°ç›¸åº”çš„.jspæ–‡ä»¶ä¸­ã€‚æ­¤å¤„æ³¨æ„ä¿®æ”¹ä»£ç ä¸­å¼•å…¥èµ„æºçš„åœ°å€ç­‰ã€‚


---
---

# ã€sixiang-vueã€‘webpack é…ç½®

## ä¸€ã€Webpackæ‰“åŒ…csså`z-index`è¢«é‡æ–°è®¡ç®—

åœ¨webpackæ‰“åŒ…è¿‡ç¨‹ä¸­,cssnanoå°†z-indexè¿›è¡Œäº†é‡æ–°è®¡ç®—ï¼ˆcssnano ç§°ä¸º rebaseï¼‰ï¼Œè€Œä¸”è¿™ç§è®¡ç®—æ˜¯ä¸å¤Ÿå‡†ç¡®çš„ã€‚

> [zindex - cssnano](http://cssnano.co/optimisations/zindex/)

ä¿®æ”¹`webpack.prod.conf.js`ä¸­ç›¸åº”ä»£ç å¦‚ä¸‹ï¼š

``` javascript
new OptimizeCSSPlugin({
    cssProcessor: require('cssnano'),
    cssProcessorOptions: {
        discardComments: {removeAll: true},
        // é¿å… cssnano é‡æ–°è®¡ç®— z-index
        safe: true
    },
    canPrint: false
})
```

## äºŒã€ä¿®æ”¹é™æ€èµ„æºè·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„

> [(webpackå¤šé¡µåº”ç”¨æ¶æ„ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šwebpacké…ç½®å¸¸ç”¨éƒ¨åˆ†æœ‰å“ªäº›ï¼Ÿ](https://segmentfault.com/a/1190000006863968)

ä¿®æ”¹``ä¸­çš„ä»£ç ï¼š

``` javascript
module.exports = {
	moduleName: 'research',
	build: {
        // ...
		assetsPublicPath: '../../',     // assetsPublicPath: '/',
        // ...
    }
    // ...
}
```

---
---

# åœ¨vueä¸­ä½¿ç”¨Echarts

## ä¸€ã€å®‰è£…

``` bash
npm install echarts --save
```

## äºŒã€å¼•å…¥Echarts

+  `.vue`æ–‡ä»¶ä¸­
    - å¼•å…¥å®Œæ•´çš„Echartsï¼ˆåŒ…å«æ‰€æœ‰å›¾è¡¨ï¼‰
    - æŒ‰éœ€å¼•å…¥
        * [GitHub: Echarts æ¨¡å—åˆ—è¡¨](https://github.com/ecomfe/echarts/blob/master/index.js)

``` javascript
/* *** å¼•å…¥å®Œæ•´ Echarts *** */
import echarts from 'echarts'

/* *** æŒ‰éœ€å¼•å…¥Echartså›¾è¡¨å’Œç»„ä»¶ *** */
// å¼•å…¥åŸºæœ¬æ¨¡æ¿
let echarts = require('echarts/lib/echarts')
// å¼•å…¥æç¤ºæ¡†å’Œå›¾ä¾‹ç»„ä»¶
require('echarts/lib/component/timeline');
require('echarts/lib/component/toolbox');
// å¼•å…¥æŠ˜çº¿å›¾
require('echarts/lib/chart/line');


// åˆå§‹åŒ–echartså®ä¾‹
let myChart = echarts.init(echarts.init(document.getElementById('main'));

// ç»˜åˆ¶
myChart.setOption({
    // ...
});

```

ä»¥ä¸Šä¹‹æ‰€ä»¥ä½¿ç”¨ `require` è€Œä¸æ˜¯ `import`ï¼Œæ˜¯å› ä¸º `require` å¯ä»¥ç›´æ¥ä» `node_modules` ä¸­æŸ¥æ‰¾ï¼Œè€Œ `import` å¿…é¡»æŠŠè·¯å¾„å†™å…¨

+ åœ¨`main.js`ä¸­å¼•å…¥ï¼Œå…¨å±€ä½¿ç”¨

``` javascript
import echarts from 'echarts'

Vue.prototype.$echarts = echarts

// åœ¨ .vue æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨
let myChart = this.$echarts.init(document.getElementById('mychart'));
```
---

## ä¸‰ã€Vue Component

[Githubï¼šecomfe/echarts](https://github.com/ecomfe/echarts) ä¸­æ¨èäº†ä¸‰ä¸ª

+ [vue-echarts](https://github.com/Justineo/vue-echarts) by Justineo __ECharts v3.3.2+__
+ [vue-echarts](https://github.com/panteng/vue-echarts) by panteng  __ECharts v3.1.2+__
+ [vue-echarts-v3](https://github.com/xlsdg/vue-echarts-v3) by xlsdg __ECharts.js v3.x+__

---

## å‚è€ƒèµ„æ–™ & æ‹“å±•é˜…è¯»

1. [Echarts: åœ¨webpackä¸­ä½¿ç”¨Echarts](http://echarts.baidu.com/tutorial.html#%E5%9C%A8%20webpack%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20ECharts)
2. [Vue çˆ¬å‘ä¹‹è·¯ï¼ˆå…«ï¼‰â€”â€” ä½¿ç”¨ Echarts åˆ›å»ºå›¾è¡¨](http://www.cnblogs.com/wisewrong/p/6558001.html)

